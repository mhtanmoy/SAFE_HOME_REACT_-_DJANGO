{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Row,Col,Image,ListGroup,Button,Card}from'react-bootstrap';import{Link}from'react-router-dom';import Loader from'../components/Loader';import Message from'../components/Message';import{useDispatch,useSelector}from'react-redux';import{listApartmentDetails}from'../actions/apartmentActions';import{createBooking}from'../actions/bookingActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ApartmentScreen(_ref){var match=_ref.match,history=_ref.history;var dispatch=useDispatch();var apartmentDetails=useSelector(function(state){return state.apartmentDetails;});var error=apartmentDetails.error,loading=apartmentDetails.loading,apartment=apartmentDetails.apartment;var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;var bookingCreate=useSelector(function(state){return state.bookingCreate;});var errorB=bookingCreate.error,loadingB=bookingCreate.loading,booking=bookingCreate.booking;useEffect(function(){dispatch(listApartmentDetails(match.params.id));},[dispatch,match]);var bookingHandler=function bookingHandler(){if(userInfo){dispatch(createBooking({apartment_id:apartment.id}));}else{history.push('/login');}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"btn btn-light my-3\",children:\"Go Back\"}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"secondary\",children:error}):/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsx(Image,{src:apartment.photo,alt:apartment.title,fluid:true})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(\"h3\",{children:apartment.title})}),/*#__PURE__*/_jsxs(ListGroup.Item,{children:[\"price : $\",apartment.price]}),/*#__PURE__*/_jsxs(ListGroup.Item,{children:[\"Details : \",apartment.details]})]})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Price : \"}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"$\",apartment.price]})})]})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Status: \"}),/*#__PURE__*/_jsx(Col,{children:apartment.availability?'Available':'Not Available Right Now'})]})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(Button,{onClick:bookingHandler,className:\"btn-block\",disabled:!apartment.availability,type:\"button\",children:\"Booking \"})}),error&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}),loading&&/*#__PURE__*/_jsx(Loader,{}),booking&&/*#__PURE__*/_jsxs(Message,{variant:\"primary\",children:[\"Your Booking id is \",booking.id,\". We will contact you through your e-mail with-in 24 hours. Stay safe.\"]})]})})})]})})]});}export default ApartmentScreen;","map":{"version":3,"sources":["C:/Users/admin/Desktop/SAFE_HOME_REACT_DJANGO/frontend/src/screen/ApartmentScreen.js"],"names":["React","useState","useEffect","Row","Col","Image","ListGroup","Button","Card","Link","Loader","Message","useDispatch","useSelector","listApartmentDetails","createBooking","ApartmentScreen","match","history","dispatch","apartmentDetails","state","error","loading","apartment","userLogin","userInfo","bookingCreate","errorB","loadingB","booking","params","id","bookingHandler","apartment_id","push","photo","title","price","details","availability"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { Row, Col, Image, ListGroup, Button, Card } from 'react-bootstrap'\r\nimport { Link } from 'react-router-dom'\r\nimport Loader from '../components/Loader'\r\nimport Message from '../components/Message'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { listApartmentDetails } from '../actions/apartmentActions'\r\nimport { createBooking } from '../actions/bookingActions'\r\n\r\n\r\n\r\nfunction ApartmentScreen({ match, history }) {\r\n    const dispatch = useDispatch()\r\n\r\n    const apartmentDetails = useSelector(state => state.apartmentDetails)\r\n    const { error, loading, apartment } = apartmentDetails\r\n\r\n    const userLogin = useSelector(state => state.userLogin)\r\n    const { userInfo } = userLogin\r\n\r\n    const bookingCreate = useSelector(state => state.bookingCreate)\r\n    const { error: errorB, loading: loadingB, booking } = bookingCreate\r\n\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        dispatch(listApartmentDetails(match.params.id))\r\n    }, [dispatch, match])\r\n\r\n    const bookingHandler = () => {\r\n        if(userInfo){\r\n            dispatch(createBooking({\r\n                apartment_id: apartment.id\r\n            }))\r\n        }\r\n        else{\r\n            history.push('/login')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Link to='/' className='btn btn-light my-3'>Go Back</Link>\r\n\r\n\r\n            {loading ? <Loader />\r\n                : error ? <Message variant='secondary'>{error}</Message>\r\n                    : (<div>\r\n                        <Row>\r\n                            <Col md={6}>\r\n                                <Image src={apartment.photo} alt={apartment.title} fluid />\r\n                            </Col>\r\n                            <Col md={3}>\r\n                                <ListGroup variant=\"flush\">\r\n                                    <ListGroup.Item>\r\n                                        <h3>{apartment.title}</h3>\r\n                                    </ListGroup.Item>\r\n\r\n                                    <ListGroup.Item>\r\n                                        price : ${apartment.price}\r\n                                    </ListGroup.Item>\r\n\r\n                                    <ListGroup.Item>\r\n                                        Details : {apartment.details}\r\n                                    </ListGroup.Item>\r\n                                </ListGroup>\r\n                            </Col>\r\n                            <Col md={3}>\r\n                                <Card>\r\n                                    <ListGroup variant='flush'>\r\n                                        <ListGroup.Item>\r\n                                            <Row>\r\n                                                <Col>Price : </Col>\r\n                                                <Col><strong>${apartment.price}</strong></Col>\r\n                                            </Row>\r\n                                        </ListGroup.Item>\r\n\r\n                                        <ListGroup.Item>\r\n                                            <Row>\r\n                                                <Col>Status: </Col>\r\n                                                <Col>{apartment.availability ? 'Available' : 'Not Available Right Now'}</Col>\r\n                                            </Row>\r\n                                        </ListGroup.Item>\r\n\r\n                                        <ListGroup.Item>\r\n                                            <Button\r\n                                                onClick={bookingHandler}\r\n                                                className='btn-block'\r\n                                                disabled={!apartment.availability}\r\n                                                type='button'>Booking </Button>\r\n                                        </ListGroup.Item>\r\n                                        {error && <Message variant='danger'>{error}</Message>}\r\n                                        {loading && <Loader />}\r\n\r\n                                        {booking && <Message variant='primary'>\r\n                                            Your Booking id is {booking.id}. We will contact you through your e-mail with-in 24 hours. Stay safe. \r\n                                        </Message>}\r\n                                    </ListGroup>\r\n                                </Card>\r\n                            </Col>\r\n                        </Row>\r\n\r\n\r\n                    </div>\r\n                    )\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ApartmentScreen"]},"metadata":{},"sourceType":"module"}